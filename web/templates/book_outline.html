<!-- web/templates/book_outline.html -->
{% extends "base.html" %}

{% block content %}
<input type="hidden" name="book_id" value="{{ book.id }}">

<!-- –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ –∏ –∫–Ω–æ–ø–∫–∞ "–£–¥–∞–ª–∏—Ç—å" –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ -->
<div class="d-flex justify-content-between align-items-center mb-3">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb mb-0">
      <li class="breadcrumb-item"><a href="/books">–ú–æ–∏ –∫–Ω–∏–≥–∏</a></li>
      <li class="breadcrumb-item active" aria-current="page">{{ book.title }}</li>
    </ol>
  </nav>

  <!-- –ö–Ω–æ–ø–∫–∞ "–£–¥–∞–ª–∏—Ç—å" ‚Äî —Å–ø—Ä–∞–≤–∞, –æ–±—ã—á–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ -->
  <button 
    hx-post="/delete-book" 
    hx-confirm="–£–¥–∞–ª–∏—Ç—å –∫–Ω–∏–≥—É –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ?" 
    class="btn btn-danger btn-sm"
    name="book_id"
    value="{{ book.id }}"
  >
    üóë –£–¥–∞–ª–∏—Ç—å
  </button>
</div>

<!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –ø—Ä–µ–º–∏—Å–∞ -->
<h2>{{ book.title }}</h2>
<p class="text-muted">{{ book.premise }}</p>

<!-- –ö–Ω–æ–ø–∫–∞ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≥–ª–∞–≤—ã" -->
<button 
  hx-post="/generate-chapters" 
  hx-confirm="–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–º–µ—á–µ–Ω–Ω—ã–µ –≥–ª–∞–≤—ã?" 
  hx-target="#outline-table" 
  hx-swap="innerHTML"
  class="btn btn-success btn-sm"
  hx-indicator="#indicator"
>
  üìö –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–º–µ—á–µ–Ω–Ω—ã–µ –≥–ª–∞–≤—ã
</button>

<!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
<div id="indicator" class="htmx-indicator mt-2 mb-3 text-end">‚è≥ –ò–¥—ë—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≥–ª–∞–≤, –æ–∂–∏–¥–∞–π—Ç–µ...</div>

<!-- –¢–∞–±–ª–∏—Ü–∞ —Å—é–∂–µ—Ç–∞ -->
<div id="outline-table">
  {% include "book_outline_table.html" %}
</div>

{% endblock %}