<!-- web/templates/book_outline.html -->
{% extends "base.html" %}

{% block content %}
<input type="hidden" name="book_id" value="{{ book.id }}">
<h2>{{ book.title }}</h2>
<p>{{ book.premise }}</p>

<!-- üî¥ –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è -->
<div class="mt-4">
  <button 
    hx-post="/delete-book" 
    hx-confirm="–í—ã —É–≤–µ—Ä–µ–Ω—ã? –≠—Ç–æ —É–¥–∞–ª–∏—Ç –≤—Å—é –∫–Ω–∏–≥—É –∏ –≤—Å–µ –≥–ª–∞–≤—ã –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ." 
    class="btn btn-danger btn-sm"
    name="book_id"
    value="{{ book.id }}"
  >
    üóë –£–¥–∞–ª–∏—Ç—å –∫–Ω–∏–≥—É
  </button>
</div>

<div class="mt-3"></div>
  <button 
    hx-post="/generate-chapters" 
    hx-confirm="–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–º–µ—á–µ–Ω–Ω—ã–µ –≥–ª–∞–≤—ã?" 
    hx-target="#outline-table" 
    hx-swap="innerHTML"
    class="btn btn-success"
    hx-indicator="#indicator"
  >
    üìö –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≥–ª–∞–≤—ã
  </button>
  <div id="indicator" class="htmx-indicator mt-2">‚è≥ –ò–¥—ë—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≥–ª–∞–≤...</div>
</div>
<!-- –°—é–¥–∞ –±—É–¥–µ—Ç –ø–æ–¥–≥—Ä—É–∂–∞—Ç—å—Å—è —Ç–∞–±–ª–∏—Ü–∞ -->
<div id="outline-table">
  <!-- –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ–º —Ç–∞–±–ª–∏—Ü—É -->
  {% include "book_outline_table.html" %}
</div>


{% endblock %}